<html>
<head>
    <meta charset='UTF-8'/>
    <meta content='width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=5' name='viewport'/>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
    <link href="https://kado-untukmu.likeadream.repl.co/style.css" rel="stylesheet" type="text/css" />
    <script src="https://kado-untukmu.likeadream.repl.co/script.js"></script>
    <title>Web Perpustakaan</title>
    <!-- Remove or update personal information in comments -->
    <style>
        body {
            background-image: url(https://i.postimg.cc/44MkpRKs/IMG-20221017-205025.jpg);
            background-repeat: no-repeat;
            background-size: 105% 105%;
            animation: none;
            transition: all .3s ease;
            filter: blur(10px); /* Add initial blur */
        }
        
        /* Add a new class for removing blur */
        body.no-blur {
            filter: blur(0);
        }
    </style>
</head>
<body>
    <div id='konten'>
        <div class="foto">
            <div class="image">
                <!-- Foto -->
                <img id="ftKm" src="https://i.postimg.cc/0jyyvR8J/images.jpg" width="100px" height="100px" onClick="klikfoto();"/>
            </div>
            <span style="font-weight:700;font-size: 13px" id="sp1"><div id="lope" style="display:inline-block;align-items:center;justify-content:center;">&#9829;</div></span>
            <div id="sp2" style="display:none;"><span style="font-weight:700;font-size: 13px" id="finish"></span></div>
        </div>

        <audio style="display:none;margin:20px 0;" controls autoplay loop>
            <source src="LINK" type="audio/mpeg">
        </audio>

        <div id='scrollImage'>
            <p>Hai&nbsp;<b id="kamu"></b>&nbsp;manis ><</p>
            <p>apa kabar ?</p>
            <p>aku harap kamu baik² aja😅</p>
            <p>semangat ya kuliahnya ☺️</p>
            <p>sebenarnya aku suka sama kamu </p>
            <p>tapi aku takut<img style="margin-left:10px;" alt="Pentol" src="https://c.tenor.com/AlUwZp0ih_wAAAAi/pentol-quby.gif" height="70" /></p>
            <p>takut kalau habis confes kita jadi asing</p>
            <p>ga enak asing satu kelas </p>
            <p>tapi pengen banget
pacaran sama kamu🙃🥲</p>
            <p>pengen jalanin hari hari bareng kamu</p>
            <p>maaf ya kalau aku ke pedean</p>
            <p><img style="margin-right:10px;" alt="Pentol" src="https://c.tenor.com/1Si3A6alsiEAAAAi/pentol-quby.gif" height="70" />
            Okeyy?</p>
            <p>i love you ❤️&nbsp;<span id="wrnRed">><</span></p>
            <p>kamu mau ga jadi pacar aku?
kalau mau balas ke wa ya&#10084;&#65039;</p>
            <p>coba klik foto di atas~<img style="margin-left:10px;" alt="Pentol" src="https://c.tenor.com/oQ_6wxtMrx0AAAAi/pentol-quby.gif" height="70" /></p>
        </div>
    </div>

    <div id="contTom"><a class='button whatsapp' onClick='bukaWa();'><i class='icon whatsapp'></i>Kirim</a></div>

    <script>  
        var a = 0, finish;
        finish = "I miss you ❤️";
        
        //Opsi WhatsApp
        function bukaWa(){
            // Use template literals for better readability
            window.location = `https://api.whatsapp.com/send?phone=+62 838-6585-1734&text=Hai, Aku *${nama}*%0A%0A*${nama}* udah bacain semuanya. Makasih yaaa *${author}* aku mau kok jadi pacar kamu><%0A%0A*Dikirim:* ${dateTime}`;
        } 

        var today = new Date();
        var date = today.getDate()+'/'+(today.getMonth()+1)+'/'+today.getFullYear()+'.';
        var dateTime = date;

        const swals = Swal.mixin({
            cancelButtonColor: '#909090',
            confirmButtonColor: '#00B487',
            allowOutsideClick: false,
        });

        async function mulai(){
            try {
                // Add blur effect at the start
                document.body.classList.remove('no-blur');
                
                // Show initial pop-up
                await swals.fire({
                    title: 'Selamat Datang!',
                    text: 'Aku punya sesuatu buat kamu.',
                    confirmButtonText: 'Lanjut',
                });

                const { value: nama } = await swals.fire({
                    title: 'Nama kamu?',
                    input: 'text',
                    confirmButtonText: 'Lanjut',
                    showCancelButton: false,
                });                           
                if(nama){
                    window.nama = nama;
                    finish = `${finish}, ${nama}!`;    
                    document.getElementById("kamu").textContent = window.nama;                      
                    const { value: author } = await swals.fire({
                        title: `${nama} tau Aku siapa? Spill namanya dong!`,
                        input: 'text',
                        confirmButtonText: 'Lanjut',
                        showCancelButton: false,
                    });                
                    if(author && author !== nama){
                        document.getElementById("sp1").textContent = `Dari ${author}, Untuk ${window.nama}!`;
                        window.author = author;                   
                        await swals.fire(`Sekarang lihat ini ya ❤️`);
                        setTimeout(showDiv, 100);                                    
                    } else {
                        await swals.fire('Nama tidak boleh kosong/sama dengan nama kamu!');
                        mulai();
                    }
                } else {
                    await swals.fire('Nama tidak boleh kosong, ya!');
                    mulai();
                }
            } catch (error) {
                console.error('Error in mulai function:', error);
            }
        }

        function nonDiv() {
            document.getElementById('konten').style.opacity = "0";
        } 

        function showDiv() {
            document.getElementById('konten').style.opacity = "1";
            document.getElementById('konten').style.top = "0";
            document.querySelector("body").style.animation = "anim 9s ease infinite";
            // Remove blur effect
            document.body.classList.add('no-blur');
        }

        function tombol() {
            document.getElementById('contTom').style.margin = "0";
            document.getElementById('contTom').style.opacity = "1";
            var e1 = document.getElementById('ftKm');
            e1.classList.add("degdeg");
        }  

        function klikfoto() {
            document.getElementById('sp1').style.display = "none";
            document.getElementById('sp2').style.display = "block";
            if(a < finish.length){
                document.getElementById("finish").innerHTML += finish.charAt(a);
                a++;
                setTimeout(klikfoto,100);
            } 
            if(a == finish.length){
                setTimeout(tombol,500);
            }
        }

        // Call mulai function immediately when the page loads
        document.addEventListener('DOMContentLoaded', mulai);
    </script>
</body>
</html>
